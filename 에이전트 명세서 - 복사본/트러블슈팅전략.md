âœ… 1. ë””ë²„ê¹… ê¸°ë³¸ ì „ëµ
ğŸ§± 1.1 ì˜¤ë¥˜ ë°œìƒ ì‹œ ê°€ì¥ ë¨¼ì € í•´ì•¼ í•  ì¼
 ì—ëŸ¬ ë©”ì‹œì§€ ì „ë¬¸ ë³µì‚¬í•´ì„œ ë¡œê·¸ íŒŒì¼ ë˜ëŠ” AI í”„ë¡¬í”„íŠ¸ì— í¬í•¨

 ë°œìƒ ìœ„ì¹˜(íŒŒì¼, ë¼ì¸, í•¨ìˆ˜)ë¥¼ ëª…í™•íˆ ì–¸ê¸‰

 what you tried beforeë„ ê°™ì´ ì ì–´ì•¼ AIê°€ ë°˜ë³µ ì‹¤ìˆ˜ë¥¼ í”¼í•¨

ğŸ” ì˜ˆì‹œ:
âŒ ë°ì´í„°ê°€ ì•ˆ ë‚˜ì™€ìš”
âœ… app/posts/[id]/page.tsxì—ì„œ params.id ê°’ì´ undefinedë¡œ ë‚˜ì˜µë‹ˆë‹¤. ì½˜ì†”ì— ì°ì—ˆì„ ë•Œ paramsëŠ” {}ì…ë‹ˆë‹¤. useParams()ë¥¼ ì¨ì•¼ í•˜ë‚˜ ê³ ë¯¼ ì¤‘ì…ë‹ˆë‹¤.

ğŸ§ª 2. ê¸°ë³¸ ì²´í¬ë¦¬ìŠ¤íŠ¸
ğŸ“¦ 2.1 ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨ ì‹œ
 params.id, searchParams, cookies() â†’ ì½˜ì†”ë¡œ ì‹¤ì œ ê°’ ì¶œë ¥

tsx
ë³µì‚¬
í¸ì§‘
console.log('params', params)
console.log('searchParams', searchParams)
 user ê°ì²´ null ì²´í¬

tsx
ë³µì‚¬
í¸ì§‘
if (!user) console.log('user is not logged in')
 Supabase ì¿¼ë¦¬ ê²°ê³¼ .data, .error ë¡œê·¸

tsx
ë³µì‚¬
í¸ì§‘
console.log(data, error)
 ì„œë²„ ì»´í¬ë„ŒíŠ¸ì¸ì§€, í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì¸ì§€ êµ¬ë¶„ (â— ì¤‘ìš”)

ğŸ§ 2.2 ì¿ í‚¤ ê´€ë ¨ ì˜¤ë¥˜
 cookies()ëŠ” ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥

 @supabase/auth-helpers-nextjsì˜ client ìƒì„± ë°©ì‹ í™•ì¸

tsx
ë³µì‚¬
í¸ì§‘
// Server
const supabase = createServerComponentClient({ cookies })
// Client
const supabase = createBrowserClient()
 middleware.tsì—ì„œ ì¿ í‚¤ ë™ê¸°í™”ê°€ ë˜ëŠ”ì§€ í™•ì¸

ğŸ”— 2.3 íŒŒë¼ë¯¸í„° ê´€ë ¨ ì˜¤ë¥˜
 App Router ì‚¬ìš© ì‹œ paramsëŠ” { params }ë¡œ propsë¡œ ë°›ìŒ

 í´ë¼ì´ì–¸íŠ¸ì—ì„œëŠ” useParams()ë¥¼ ì‚¬ìš©

tsx
ë³µì‚¬
í¸ì§‘
const params = useParams()
console.log('client params', params)
ğŸ’¥ 3. ì—ì´ì „íŠ¸ ìš”ì²­ ì‹œ ëª…ë ¹ ì˜ˆì‹œ í…œí”Œë¦¿
ğŸ¯ ì—ì´ì „íŠ¸ì—ê²Œ ìš”ì²­ ì‹œ í•­ìƒ ì´ 4ê°€ì§€ í¬í•¨í•˜ê¸°:
ì˜¤ë¥˜ ë©”ì‹œì§€ ë° ìœ„ì¹˜

ì‹¤ì œ params/cookies/log ê²°ê³¼ ê°’

í˜„ì¬ í™˜ê²½ ì„¤ëª… (ì„œë²„ ì»´í¬ë„ŒíŠ¸ì¸ì§€, í´ë¼ì´ì–¸íŠ¸ì¸ì§€, Next.js ë²„ì „ ë“±)

ì˜ˆìƒë˜ëŠ” ê²°ê³¼ / UI ë™ì‘

âœ… ì˜ˆì‹œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
txt
ë³µì‚¬
í¸ì§‘
ì—ëŸ¬ ë©”ì‹œì§€:
Supabase query failed: user is null

ë°œìƒ ìœ„ì¹˜:
app/profile/page.tsx

params ê°’:
params = {} (ì½˜ì†” ì¶œë ¥ ê²°ê³¼)

í™˜ê²½:
ì„œë²„ ì»´í¬ë„ŒíŠ¸, Next.js 15, Supabase JS v2 ì‚¬ìš©

ì˜ˆìƒ ë™ì‘:
ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ í”„ë¡œí•„ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì™€ì•¼ í•˜ëŠ”ë° userê°€ nullë¡œ ë‚˜ì˜µë‹ˆë‹¤.
ğŸ“‹ 4. ì½”ë“œ ìˆ˜ì • ì‹œ ì§€ì¼œì•¼ í•  ê·œì¹™
 ì ˆëŒ€ middleware.ts, lib/db.ts, .env íŒŒì¼ì€ ìë™ ìˆ˜ì •í•˜ì§€ ì•Šê¸°

 use client â†’ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì¿ í‚¤/params ì§ì ‘ ì ‘ê·¼ ê¸ˆì§€

 ë¬´ì¡°ê±´ console.log() ì°ê³  AIê°€ ì‘ì„±í•œ ì¶”ë¡  ê²€ì¦í•  ê²ƒ

 ì˜ˆìƒë˜ëŠ” ê²°ê³¼ë¥¼ ë¨¼ì € ë§í•œ í›„ ìˆ˜ì •í•˜ë„ë¡ ìœ ë„ (ì˜ˆ: â€œì´ ìˆ˜ì •ìœ¼ë¡œ ì–´ë–¤ ê°’ì´ ë°”ë€”ê¹Œìš”?â€)

ğŸš¨ 5. ì´ìƒí•´ì¡Œì„ ë•Œ ë³µêµ¬ ì „ëµ
 Git stash ë˜ëŠ” revert ì‚¬ìš©

bash
ë³µì‚¬
í¸ì§‘
git log
git checkout COMMIT_ID
 backup/[ë‚ ì§œ]/ ë””ë ‰í† ë¦¬ì— ì´ì „ ë²„ì „ ì €ì¥í•´ë‘ê¸°

ğŸ“Œ 6. ë¶€ë¡: ë¡œê·¸ ì¶œë ¥ í…œí”Œë¦¿
ts
ë³µì‚¬
í¸ì§‘
console.log('[params]', params)
console.log('[cookies]', cookies().getAll())
console.log('[searchParams]', searchParams)
console.log('[user]', user)
console.log('[Supabase] data:', data)
console.log('[Supabase] error:', error)
ì´ ë¬¸ì„œëŠ” ì½”ë“œ ë‚´ë¶€ì—ì„œ import DEBUG_PROTOCOL.mdì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ëŠ” ì—†ì§€ë§Œ,
íŒ€ì› ë˜ëŠ” AIì—ê²Œ **"ì˜¤ë¥˜ í•´ê²°ì€ ë°˜ë“œì‹œ ì´ ë¬¸ì„œ íë¦„ì„ ë”°ë¥´ì„¸ìš”"**ë¼ê³  ì•Œë ¤ì£¼ëŠ” ê°€ì´ë“œë¡œ ì“¸ ìˆ˜ ìˆì–´.